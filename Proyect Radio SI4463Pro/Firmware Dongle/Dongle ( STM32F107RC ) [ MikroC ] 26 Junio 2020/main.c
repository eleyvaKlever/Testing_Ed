/*******************************************************************************************************************************************************************************************************
 * File:        main.c
 * Author:      
 * Editor:      
 * Project:     
 * Version:     
 * 
 * Compiler:    
 * IDE:         
 * Platform:    
 * Kernel:      
 * 
 * Notes:
*******************************************************************************************************************************************************************************************************/
/**********************************************************************************************
 * Main Header
**********************************************************************************************/
#include "main.h"
/**********************************************************************************************
 * Configuration File
**********************************************************************************************/
#include "SysConfig.c"
/**********************************************************************************************
 * Instances
**********************************************************************************************/
/**********************************************************************************************
 * Function Files
**********************************************************************************************/
/********************************************************
 * 
********************************************************/
#include "Dongle.c"
/********************************************************
 * UART
********************************************************/
#include "UARTHandler.c"
#include "Debug.c"
/********************************************************
 * Miscellaneous
********************************************************/
#include "Conversion.c"
#include "XORCipher.c"
/********************************************************
 * FLASH
********************************************************/
#include "FlashHandler.c"
#include "FlashW25Q128JV.c"
/********************************************************
 * RF4463
********************************************************/
#include "RF4463Handler.c"
#include "rf4463pro.c"
#include "rf4463spi.c"
/********************************************************
 * Button
********************************************************/
#include "ButtonHandler.c"
/********************************************************
 * Timer
********************************************************/
#include "Timer.c"

/**********************************************************************************************
 * Main Function
**********************************************************************************************/
void main(){
    Delay_ms( 1000 );
    /**********************************************************************************************
     * Hardware Configuration Functions
    **********************************************************************************************/
    GPIO_Digital_Output( &GPIOC_BASE, _GPIO_PINMASK_6 );
    GPIO_Digital_Output( &GPIOC_BASE, _GPIO_PINMASK_7 );
    GPIO_Digital_Output( &GPIOC_BASE, _GPIO_PINMASK_8 );

    GPIO_Digital_Output( &GPIOB_BASE, _GPIO_PINMASK_7 );
    Sound_Init( &GPIOB_ODR, 7 );
    Sound_Play( 1000, 100 );

    LEDRed      = 1;
    LEDGreen    = 1;
    LEDBlue     = 1;

    vUARTTxInit();
    STM_LOGE( "TEST\r\n", NULL );
    /**********************************************************************************************
     * Hardware Modules Initialization
    **********************************************************************************************/
    vRadioInit();
    /**********************************************************************************************
     * Initial Data Load
    **********************************************************************************************/
    LEDRed      = 0;
    LEDBlue     = 0;
    /**********************************************************************************************
     * Main Loop
    **********************************************************************************************/
    vDongleLoop();
}

/*******************************************************************************************************************************************************************************************************
 * End of File
*******************************************************************************************************************************************************************************************************/